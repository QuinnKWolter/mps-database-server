{% extends "base.html" %}

{# TODO REQUIRES MAJOR AESTHETIC REVISION #}

{% block content %}
    <legend>
        <h1>{{ object.name}}
        <a href="/compounds/{{ next }}" class="btn btn-primary btn-large pull-right">
            Next
            <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
        </a>
        <a href="/compounds/{{ previous }}" class="btn btn-primary btn-large pull-right">
            <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
            Previous
        </a>
        </h1>
    </legend>

    <div class="row">

        <div class="col-sm-3 col-md-2">
            <img src="https://www.ebi.ac.uk/chembldb/compound/displayimage/{{ object.chemblid }}">
        </div>

        <div class="col-sm-9 col-md-10">
            <table class="table table-striped table-bordered table-nonfluid" style="background-color: #AAB3AB;">
                <tbody>
                    <tr>
                        <td>
                            <b>ChEMBL ID</b>
                        </td>
                        <td>
                            <a href="https://www.ebi.ac.uk/chembl/compound/inspect/{{ object.chemblid }}">{{ object.chemblid }}</a>
                        </td>
                    </tr>
                    {% if object.pubchemid %}
                        <tr>
                            <td>
                                <b>PubChem ID</b>
                            </td>
                            <td>
                                <a href="https://pubchem.ncbi.nlm.nih.gov/compound/{{ object.pubchemid }}">{{ object.pubchemid }}</a>
                            </td>
                        </tr>
                    {% endif %}
                    <tr>
                        <td>
                            <b>Molecular Formula</b>
                        </td>
                        <td>
                            {{ object.molecular_formula }}
                        </td>
                    </tr>
                    {% if object.inchikey %}
                        <tr>
                            <td>
                                <b>Inchikey:</b>
                            </td>
                            <td>
                                {{ object.inchikey }}
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>

    </div>

    <br>

    {% if object.smiles%}
        <div class="row">
            <div class="col-sm-2 col-md-1 text-right-responsive">
                <b>Smiles</b>
            </div>
            <div class="col-sm-10 col-md-11 text-wrapped">
                {{ object.smiles }}
            </div>
        </div>
    {% endif %}

    <br>

    {% if object.synonyms %}
        <div class="row">
            <div class="col-sm-2 col-md-1 text-right-responsive">
                <b>Synonyms</b>
            </div>
            <div class="col-sm-10 col-md-11 text-wrapped">
                {{ object.synonyms }}
            </div>
        </div>
    {% endif %}

    <br>

    <legend>Compound Properties</legend>

    <div class="row">
    <div id="drug_properties" class="col-sm-4">
        <table class="table table-striped table-bordered" style="background-color: #C4CBB7;">
            <thead>
                <tr>
                    <th colspan=2 class="text-center">
                        <u>Drug/Drug-like Properties</u>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <b>Known Drug</b>
                    </td>
                    <td>
                        {% if object.known_drug %}
                            <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove text-danger" aria-hidden="true"></span>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Med Chem Friendly</b>
                    </td>
                    <td>
                        {% if object.medchem_friendly %}
                            <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove text-danger" aria-hidden="true"></span>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Passes of Rule of 3</b>
                    </td>
                    <td>
                        {% if object.ro3_passes %}
                            <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
                        {% else %}
                            <span class="glyphicon glyphicon-remove text-danger" aria-hidden="true"></span>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Rule of 5 Violations</b>
                    </td>
                    <td>
                        {{ object.ro5_violations }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Molecular Species</b>
                    </td>
                    <td>
                        {{ object.species }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="molecular_properties" class="col-sm-4">
        <table class="table table-striped table-bordered" style="background-color: #EBEFC9;">
            <thead>
                <tr>
                    <th colspan=2 class="text-center">
                        <u>Molecular Properties</u>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <b>Molecular Weight</b>
                    </td>
                    <td>
                        {{ object.molecular_weight }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Rotatable Bonds</b>
                    </td>
                    <td>
                        {{ object.rotatable_bonds }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Acidic pKa</b>
                    </td>
                    <td>
                        {{ object.acidic_pka }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>Basic pKa</b>
                    </td>
                    <td>
                        {{ object.basic_pka }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>LogP</b>
                    </td>
                    <td>
                        {{ object.logp }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>LogD</b>
                    </td>
                    <td>
                        {{ object.logd }}
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>ALogP</b>
                    </td>
                    <td>
                        {{ object.alogp }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="col-sm-4">
    {% if object.compoundproperty_set.all %}
        <table class="table table-striped table-bordered" style="background-color: #EEE0B7;">
            <thead>
                <tr>
                    <th colspan=2 class="text-center">
                        <u>Additional Properties</u>
                    </th>
                </tr>
            </thead>
            <tbody>
            {% for property in object.compoundproperty_set.all %}
                <tr>
                    <td><strong>{{ property.property_type }}</strong></td>
                    <td>{{ property.value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
    </div>
    </div>

    {% if object.compoundsummary_set.all %}
        <legend>Summaries</legend>
        <table class="table table-striped table-bordered" style="background-color: #E8CAAF;">
            <tbody>
            {% for summary in object.compoundsummary_set.all %}
                <tr>
                    <td><strong>{{ summary.summary_type }}</strong></td>
                    <td>{{ summary.summary|linebreaks }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

{% endblock %}
