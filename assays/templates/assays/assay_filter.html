{% extends "base.html" %}
{% load static %}

{% block load %}
    <script src="{% static "assays/assay_filter.js" %}"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="{% static "assays/chart_display.js" %}"></script>
{% endblock %}

{% block breadcrumbs %}
    <li class="active">Query Data</li>
{% endblock %}

{% block content %}
    <div id="filter">
    <div class="row text-center padded-bottom">
        <a href="#charts" type="button" class="btn btn-lg btn-primary text-center submit-button" id="charts_submit">
            Show Plots
        </a>
        <a href="#inter_repro" type="button" class="btn btn-lg btn-primary text-center submit-button" id="repro_submit">
            Show Reproducibility
        </a>
    </div>

    <div id="number_of_points_container" class="row text-center padded-bottom text-success">
        <h1 id="select_user_group_message" class="text-danger">Please Select at Least One MPS Model</h1>
        <h2>Number of Points: <span id="number_of_points"></span></h2>
    </div>

    <div class="row padded-bottom">
        <div class="col-md-6">
{#            <table id="id_study__matrix_item__organmodel_id__in" class="table table-striped table-hover">#}
            <table id="filter_organ_models" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>MPS Model</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
        <div class="col-md-6">
{#            <table id="id_study__group_id__in" class="table table-striped table-hover">#}
            <table id="filter_groups" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>MPS User Group</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>

    <div class="row padded-bottom">
        <div class="col-xs-6">
{#            <table id="id_study_assay__target" class="table table-striped table-hover">#}
            <table id="filter_targets" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Target/Analyte</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
        <div class="col-xs-6">
{#            <table id="id_study_assay__target" class="table table-striped table-hover">#}
            <table id="filter_compounds" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Compound</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>

    </div>

    <div hidden id="results">
    <div class="row text-center padded-bottom">
    <a href="#filter"  id="back" class="btn btn-xlarge btn-info">
        <span class="glyphicon glyphicon-hand-left" aria-hidden="true"></span>
        Back to Selection
    </a>
    </div>

    {% include 'assays/chart_options.html' with chart_prefix="charts" chart_title="Selected Data" %}

    {# Note indicating no data to display initially #}
    <div id="charts" class="padded-bottom">
        No data to display
    </div>
    </div>

    <div hidden id="inter_repro">
    <div class="row text-center padded-bottom">
    <a href="#filter"  id="back" class="btn btn-xlarge btn-info">
        <span class="glyphicon glyphicon-hand-left" aria-hidden="true"></span>
        Back to Selection
    </a>
    </div>

    {# TODO TODO TODO NEED GROUPING  AND FILTERING STUFF HERE TOO #}

    <div class="well">
        {# TODO TODO TODO #}
        OPTIONS: inter_level, max_interpolation_size, initial_norm
    </div>

    <table id='repro_table' class="display table-bordered" cellspacing="0" width="100%"></table>

    <div id="expanded_data">

    </div>

    <div id='clone_container'>
        <div data-id='repro-data' class='container hidden'>
            <div class='row'>
                <div class='col-xs-12'><h2 data-id='repro-title' class='text-center'></h2></div>
            </div>
            <div class='row' style='text-align: left;'>
                <div class='col-md-12'>
                    <h3>Reproducibility Status: <span data-id='repro-status'></span></h3>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-12'>
                    <label>Selection Parameters</label>
                    <table data-id="data-table" class="table table-striped table-condensed table-bordered">
                        <tbody>

                        </tbody>
                    </table>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-6' data-id='item_chart'>

                </div>
                <div class='col-md-6' data-id='average_chart'>

                </div>
                <div class='col-md-6' data-id='trimmed_chart'>

                </div>
                <div class='col-md-6' data-id='nearest_chart'>

                </div>
                <div class='col-md-6' data-id='linear_chart'>

                </div>
                <div class='col-md-6' data-id='quadratic_chart'>

                </div>
                <div class='col-md-6' data-id='cubic_chart'>

                </div>
                {# This is just a buffer #}
                <div class="col-md-6"></div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}
